## Feature/体系化待办（按优先级）

### 标签系统（共享、二级、三者多对多）

- [x] 后台标签管理页（Web Admin 基础版）：列表/创建
- [ ] 后台标签管理页：编辑/删除、父子层级管理完善
- [x] 表单接入标签（模板/流程创建页支持多选）
- [ ] 框架接入标签（待框架 API 路由）
- [ ] 模板/流程/框架创建与更新时提交 tagIds 的全链路回显与校验
- [ ] 标签列表公共 Hook 与组件封装（缓存 + 错误处理）

### 本地优先与上下行同步（私有默认本地）

- 模板：
  - [x] 创建时选择【仅本地 | 本地并同步】
  - [x] 本地 JSON 存储命令（save/get/delete）
  - [ ] “上传到服务器/从服务器覆盖本地”按钮与逻辑
  - [ ] 本地列表/编辑 UI 入口
- 流程：
  - [x] 创建时选择【仅本地 | 本地并同步】
  - [x] 本地 JSON 存储命令（save/get/delete）
  - [ ] “上传/下载覆盖”按钮与逻辑
  - [ ] 本地列表/编辑 UI 入口
- 框架：
  - [x] 本地存储
  - [ ] “上传/下载覆盖”按钮与逻辑
- 通用：
  - [ ] 冲突策略与时间戳提示（本地 vs 远端）
  - [ ] 设置页：默认保存目标（按类型）

### 社区可见与后台管控

- [ ] 三者表单加入 `isPublic` 切换；列表/详情展示 `isBlocked` 提示
- [ ] 管理端支持屏蔽/取消屏蔽（设置 `isBlocked`）

### AI 辅助创建（本地提示词 + 本地密钥优先 + 兜底 Pollinations）

- 模板：
  - [x] AI 生成草案（本地 prompts + 本地密钥/兜底）并回填内容
  - [ ] 参数/文章的结构化回填与 Zod 校验
  - [x] 支持【仅本地保存 | 本地并同步】
- 流程：
  - [x] AI 生成草案（article/steps/tools/totalTime 回填）
  - [ ] Zod 校验 + 预览确认
  - [x] 支持【仅本地保存 | 本地并同步】
- 框架：
  - [x] 节点 AI 扩展
  - [x] URL 汇总生成子节点（基于提示词，暂未抓取内容）
  - [ ] URL 实际抓取与摘要后再生成
- 通用：
  - [ ] 为三类 AI 返回定义公共 Zod schema 与解析工具

### 知识框架（知识脑图）

- [x] 节点 URL 拓展（提示词汇总 → 生成子节点并保存）
- [ ] 节点 CRUD（编辑标题/描述/问题）、展开状态持久化
- [ ] 后端 API 路由（/api/knowledge-frameworks）：列表（公开/我的）、创建、更新、删除、详情

### 提示模板（Template）

- [x] 完成 `usePromptTemplate`：对接 `/api/prompt-templates` 列表/创建/更新/删除
- [ ] 从社区模板“复制为我的模板”并可编辑保存
- [ ] 模板详情页展示 MD 说明、参数表

### 流程设计（Flow）

- [ ] 最佳实践列表与详情展示
- [ ] “个性化编辑”：从他人实践复制为我的流程并进入编辑
- [ ] 步骤资源（url）点击外链与校验；步骤问题编辑 UI

### AI 服务封装（补全多模态）

- [ ] `imageService`：Stability → 兜底 Pollinations（生成图）
- [ ] `ttsService`：ElevenLabs → 兜底 Pollinations audio（TTS）
- [ ] 预留 `videoService` 接口（Google/Runway 将来接入），保持同一优先/兜底策略

### 标签/检索集成

- [ ] 列表筛选：按标签过滤模板/流程/框架
- [ ] 详情页展示标签并可跳转同标签聚合

### UX 与路由完善

- [ ] 确认并完善三者的创建页/详情页/管理页导航与加载/错误态
- [ ] 表单校验统一使用 Zod + React Hook Form

### 基础设施与文档

- [ ] 补充 `.env` 与运行说明（确保 `NEXT_PUBLIC_API_BASE_URL` 等）
- [ ] 为 AI 解析增加单元测试（JSON 解析与校验）
- [ ] Lint/类型检查通过；关键接口添加 TSDoc

## 里程碑拆分（建议顺序）

1. 标签系统 + 标签选择器落地 → 三表单打通标签
2. Template/Flow 的 AI 创建闭环（本地 prompt → 解析 → 预填 → 入库）
3. Framework URL 拓展与 Framework API 路由
4. 本地/云同步按钮与冲突策略
5. 社区可见/屏蔽管理与最佳实践/个性化编辑
6. 多模态服务封装与各处对接
