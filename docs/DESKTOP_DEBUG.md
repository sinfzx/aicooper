# ğŸ–¥ï¸ æ¡Œé¢åº”ç”¨è°ƒè¯•æŒ‡å—

## é—®é¢˜è¯Šæ–­

å¦‚æœ `pnpm tauri:dev` å¯åŠ¨çš„æ˜¯Webé¢„è§ˆè€Œä¸æ˜¯æ¡Œé¢åº”ç”¨ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š

## 1. æ£€æŸ¥ç¯å¢ƒ

### æ£€æŸ¥ Tauri CLI
```bash
cd apps/desktop
pnpm tauri --version
```
åº”è¯¥æ˜¾ç¤ºç±»ä¼¼ï¼š`tauri-cli 2.7.0`

### æ£€æŸ¥ Rust
```bash
rustc --version
```
å¦‚æœæœªå®‰è£…ï¼Œè¯·è®¿é—® https://rustup.rs/ å®‰è£…

## 2. æ­£ç¡®çš„å¯åŠ¨æ–¹å¼

### æ–¹å¼1: ä»æ ¹ç›®å½•å¯åŠ¨
```bash
# ä»é¡¹ç›®æ ¹ç›®å½•
pnpm desktop:dev
```

### æ–¹å¼2: ä»æ¡Œé¢åº”ç”¨ç›®å½•å¯åŠ¨
```bash
cd apps/desktop
pnpm tauri:dev
```

### æ–¹å¼3: ä½¿ç”¨è°ƒè¯•è„šæœ¬
```bash
./scripts/debug-desktop.sh
```

## 3. å¯åŠ¨è¿‡ç¨‹è¯´æ˜

æ­£ç¡®çš„å¯åŠ¨è¿‡ç¨‹åº”è¯¥æ˜¯ï¼š

1. **å¯åŠ¨ Next.js å¼€å‘æœåŠ¡å™¨** (ç«¯å£ 3002)
   ```
   â–² Next.js 15.4.2
   - Local:        http://localhost:3002
   ```

2. **ç¼–è¯‘ Rust ä»£ç **
   ```
   Compiling tauri-nextjs-template v0.1.0
   ```

3. **æ‰“å¼€æ¡Œé¢çª—å£**
   - åº”è¯¥ä¼šå¼¹å‡ºä¸€ä¸ªç‹¬ç«‹çš„æ¡Œé¢çª—å£
   - çª—å£æ ‡é¢˜æ˜¾ç¤º "AI Desktop"
   - çª—å£å¤§å°ä¸º 1200x800

## 4. å¦‚ä½•åŒºåˆ†Webé¢„è§ˆå’Œæ¡Œé¢åº”ç”¨

### Webé¢„è§ˆæ¨¡å¼ (é”™è¯¯)
- åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
- åœ°å€æ æ˜¾ç¤º `http://localhost:3002`
- æ— æ³•ä½¿ç”¨ Tauri API
- è°ƒè¯•é¡µé¢æ˜¾ç¤º "ğŸŒ å½“å‰è¿è¡Œåœ¨Webç¯å¢ƒä¸­"

### æ¡Œé¢åº”ç”¨æ¨¡å¼ (æ­£ç¡®)
- ç‹¬ç«‹çš„æ¡Œé¢çª—å£
- æ²¡æœ‰æµè§ˆå™¨åœ°å€æ 
- å¯ä»¥ä½¿ç”¨ Tauri API
- è°ƒè¯•é¡µé¢æ˜¾ç¤º "âœ… Tauri ç¯å¢ƒ: æ˜¯"

## 5. è°ƒè¯•å·¥å…·

### è®¿é—®è°ƒè¯•é¡µé¢
æ— è®ºåœ¨å“ªç§æ¨¡å¼ä¸‹ï¼Œéƒ½å¯ä»¥è®¿é—®è°ƒè¯•é¡µé¢ï¼š
```
http://localhost:3002/debug
```

### æŸ¥çœ‹ç¯å¢ƒä¿¡æ¯
è°ƒè¯•é¡µé¢ä¼šæ˜¾ç¤ºï¼š
- æ˜¯å¦åœ¨ Tauri ç¯å¢ƒä¸­
- æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒä¸­
- å¯ç”¨çš„ Tauri å‘½ä»¤
- å‘½ä»¤æµ‹è¯•ç»“æœ

## 6. å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1: å¯åŠ¨ååªæœ‰Webé¡µé¢
**åŸå› **: Tauri ç¼–è¯‘å¤±è´¥æˆ–é…ç½®é”™è¯¯
**è§£å†³**:
```bash
cd apps/desktop
# æ¸…ç†ç¼“å­˜
rm -rf .next
rm -rf src-tauri/target
# é‡æ–°å¯åŠ¨
pnpm tauri:dev
```

### é—®é¢˜2: Rust ç¼–è¯‘é”™è¯¯
**åŸå› **: Rust ä¾èµ–é—®é¢˜
**è§£å†³**:
```bash
cd apps/desktop/src-tauri
cargo clean
cargo build
```

### é—®é¢˜3: ç«¯å£å†²çª
**åŸå› **: ç«¯å£ 3002 è¢«å ç”¨
**è§£å†³**:
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -ti:3002
# ç»ˆæ­¢è¿›ç¨‹
kill -9 $(lsof -ti:3002)
```

### é—®é¢˜4: æƒé™é—®é¢˜ (macOS)
**åŸå› **: macOS å®‰å…¨é™åˆ¶
**è§£å†³**:
- ç³»ç»Ÿåå¥½è®¾ç½® > å®‰å…¨æ€§ä¸éšç§
- å…è®¸åº”ç”¨è¿è¡Œ

## 7. å¼€å‘å·¥ä½œæµ

### æ¨èçš„å¼€å‘æµç¨‹
1. **å¯åŠ¨ API æœåŠ¡** (ç«¯å£ 3001)
   ```bash
   pnpm dev:api
   ```

2. **å¯åŠ¨æ¡Œé¢åº”ç”¨** (ç«¯å£ 3002)
   ```bash
   pnpm desktop:dev
   ```

3. **è®¿é—®è°ƒè¯•é¡µé¢** ç¡®è®¤ç¯å¢ƒ
   ```
   http://localhost:3002/debug
   ```

### çƒ­é‡è½½
- **å‰ç«¯ä»£ç **: è‡ªåŠ¨çƒ­é‡è½½
- **Rustä»£ç **: éœ€è¦é‡å¯åº”ç”¨
- **é…ç½®æ–‡ä»¶**: éœ€è¦é‡å¯åº”ç”¨

## 8. ç”Ÿäº§æ„å»º

### æ„å»ºæ¡Œé¢åº”ç”¨
```bash
cd apps/desktop
pnpm tauri:build
```

æ„å»ºäº§ç‰©ä½ç½®ï¼š
- **macOS**: `src-tauri/target/release/bundle/macos/`
- **Windows**: `src-tauri/target/release/bundle/msi/`
- **Linux**: `src-tauri/target/release/bundle/deb/`

## 9. æ—¥å¿—æŸ¥çœ‹

### å¼€å‘ç¯å¢ƒæ—¥å¿—
- **Next.js**: ç»ˆç«¯è¾“å‡º
- **Rust**: ç»ˆç«¯è¾“å‡º
- **æµè§ˆå™¨**: å¼€å‘è€…å·¥å…·æ§åˆ¶å°

### ç”Ÿäº§ç¯å¢ƒæ—¥å¿—
- **macOS**: `~/Library/Logs/AI Desktop/`
- **Windows**: `%APPDATA%\AI Desktop\logs\`
- **Linux**: `~/.local/share/AI Desktop/logs/`

## 10. æ€§èƒ½ä¼˜åŒ–

### å¼€å‘ç¯å¢ƒä¼˜åŒ–
```bash
# ä½¿ç”¨ turbopack (æ›´å¿«çš„æ„å»º)
pnpm dev --turbo
```

### æ„å»ºä¼˜åŒ–
```bash
# ä¼˜åŒ–æ„å»ºå¤§å°
pnpm tauri:build --release
```

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä»ç„¶é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. æ“ä½œç³»ç»Ÿç‰ˆæœ¬
2. Node.js ç‰ˆæœ¬ (`node --version`)
3. Rust ç‰ˆæœ¬ (`rustc --version`)
4. å®Œæ•´çš„é”™è¯¯æ—¥å¿—
5. è°ƒè¯•é¡µé¢çš„ç¯å¢ƒä¿¡æ¯æˆªå›¾