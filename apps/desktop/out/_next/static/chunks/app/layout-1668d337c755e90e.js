(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6318:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>k});var n=r(7770),a=r(811),i=r(9198),d=r(8808),l=r(8752);r(8559);var o=r(6354),t=r(1519),x=r(7176),h=r(1421),c=r(3810),g=r(8582),m=r(3355),p=r(7710),j=r(202),f=r(2993),u=r(9547),b=r(6390),w=r(2803);let y=e=>{let{children:s,fallback:r}=e,{isAuthenticated:a,isLoading:i,login:d}=(0,t.A)(),{navigateTo:l}=(0,w.c)(),[y,B]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if(!i&&!a){if("/login"!==window.location.pathname)return void l("/login");r||B(!0)}},[i,a,r,l]),i)?(0,n.jsx)(h.o,{h:"100vh",bg:"gray.0",children:(0,n.jsx)(c.Z,{shadow:"sm",padding:"xl",radius:"md",withBorder:!0,children:(0,n.jsxs)(g.B,{align:"center",gap:"md",children:[(0,n.jsx)(m.a,{size:"lg"}),(0,n.jsx)(p.E,{c:"dimmed",children:"检查登录状态..."})]})})}):a?(0,n.jsx)(n.Fragment,{children:s}):r?(0,n.jsx)(n.Fragment,{children:r}):y?(0,n.jsx)(h.o,{h:"100vh",bg:"gray.0",p:"md",children:(0,n.jsx)(j.a,{maw:400,w:"100%",children:(0,n.jsxs)(g.B,{align:"center",gap:"xl",children:[(0,n.jsxs)(g.B,{align:"center",gap:"md",children:[(0,n.jsx)(u.A,{size:64,color:"#228be6"}),(0,n.jsx)(f.h,{order:2,ta:"center",children:"AI Desktop"}),(0,n.jsx)(p.E,{c:"dimmed",ta:"center",children:"使用邮箱验证码快速登录或注册"})]}),(0,n.jsx)(c.Z,{shadow:"sm",padding:"xl",radius:"md",withBorder:!0,w:"100%",children:(0,n.jsx)(x.Q,{onLoginSuccess:e=>{d(e),B(!1),l("/")},onLogin:d})})]})})}):(0,n.jsx)(h.o,{h:"100vh",bg:"gray.0",children:(0,n.jsx)(c.Z,{shadow:"sm",padding:"xl",radius:"md",withBorder:!0,children:(0,n.jsxs)(g.B,{align:"center",gap:"md",children:[(0,n.jsx)(b.A,{size:48,color:"var(--mantine-color-gray-5)"}),(0,n.jsx)(p.E,{c:"dimmed",children:"需要登录才能访问"})]})})})},B=(0,a.a)({primaryColor:"blue",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif",headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif",fontWeight:"600"},radius:{xs:"4px",sm:"6px",md:"8px",lg:"12px",xl:"16px"},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05)",sm:"0 1px 3px rgba(0, 0, 0, 0.1)",md:"0 4px 12px rgba(0, 0, 0, 0.1)",lg:"0 8px 24px rgba(0, 0, 0, 0.12)",xl:"0 12px 32px rgba(0, 0, 0, 0.15)"},colors:{gray:["#fafafa","#f4f4f5","#e4e4e7","#d4d4d8","#a1a1aa","#71717a","#52525b","#3f3f46","#27272a","#18181b"]}});function v(e){let{children:s}=e;return"/login"===(0,l.usePathname)()?(0,n.jsx)(n.Fragment,{children:s}):(0,n.jsx)(y,{children:s})}function k(e){let{children:s}=e;return(0,n.jsx)("html",{lang:"zh-CN",children:(0,n.jsx)("body",{children:(0,n.jsxs)(i.y,{theme:B,children:[(0,n.jsx)(d.$,{position:"top-right"}),(0,n.jsx)(v,{children:s})]})})})}},6655:(e,s,r)=>{Promise.resolve().then(r.bind(r,6318))},8559:()=>{}},e=>{e.O(0,[790,155,57,634,387,875,71,255,854,162,358],()=>e(e.s=6655)),_N_E=e.O()}]);