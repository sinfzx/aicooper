(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{942:(e,s,t)=>{"use strict";function a(){let e=window;if(void 0!==e.__TAURI__||void 0!==e.__TAURI_INTERNALS__||window.navigator.userAgent.includes("Tauri"))return!0;try{if(e.location&&"tauri:"===e.location.protocol)return!0}catch(e){}return"file:"===window.location.protocol||"tauri:"===window.location.protocol}function i(){return{isTauri:a(),isDev:!1,isBuild:!0,userAgent:window.navigator.userAgent,platform:window.navigator.platform}}async function r(){if(a())return!0;try{let{invoke:e}=await t.e(379).then(t.bind(t,7379));if(e)return await e("greet"),!0}catch(e){console.warn("Tauri API test failed:",e)}return!1}async function n(){try{if(await r()){let{invoke:e}=await t.e(379).then(t.bind(t,7379)),{getCurrentWindow:s}=await t.e(381).then(t.bind(t,9381)),a=s();return{invoke:e,currentWindow:a}}}catch(e){console.warn("Failed to import Tauri API:",e)}return{invoke:null,currentWindow:null}}function l(){let e=i();console.log("\uD83D\uDD0D Environment Info:",e),e.isTauri?console.log("✅ Running in Tauri desktop app"):console.log("\uD83C\uDF10 Running in web browser")}t.d(s,{XI:()=>r,cR:()=>i,uL:()=>l,vo:()=>a,xU:()=>n})},1274:(e,s,t)=>{"use strict";t.d(s,{$n:()=>i,Zp:()=>r,Wu:()=>l,aR:()=>n});var a=t(7770);t(6354);let i=e=>{let{variant:s="primary",size:t="md",className:i="",children:r,...n}=e,l="".concat("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t]," ").concat(i);return(0,a.jsx)("button",{className:l,...n,children:r})},r=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 ".concat(t),children:s})},n=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat(t),children:s})},l=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"px-6 py-4 ".concat(t),children:s})}},3594:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(7770),i=t(6354),r=t(1274),n=t(942);function l(){let[e,s]=(0,i.useState)(null),[t,l]=(0,i.useState)([]),[c,d]=(0,i.useState)({});(0,i.useEffect)(()=>{s((0,n.cR)()),o()},[]);let o=async()=>{try{let{invoke:e}=await (0,n.xU)();if(e){let s=await e("greet");d(e=>({...e,greet:s})),l(["greet","get_auth_data","send_verification_code","verify_code_and_login","get_api_keys","get_settings","chat_with_ai"])}}catch(e){d(s=>({...s,error:String(e)}))}},u=async e=>{try{let s,{invoke:t}=await (0,n.xU)();if(!t)return void d(s=>({...s,[e]:"Tauri API not available"}));switch(e){case"greet":s=await t("greet");break;case"get_auth_data":s=await t("get_auth_data");break;case"get_api_keys":s=await t("get_api_keys");break;case"get_settings":s=await t("get_settings");break;default:s="Command not implemented in test"}d(t=>({...t,[e]:s}))}catch(s){d(t=>({...t,[e]:"Error: ".concat(s)}))}};return(0,a.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDD0D Tauri 调试页面"}),(0,a.jsxs)(r.Zp,{className:"mb-6",children:[(0,a.jsx)(r.aR,{children:(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"环境信息"})}),(0,a.jsx)(r.Wu,{children:e&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(e.isTauri?"bg-green-500":"bg-red-500")}),(0,a.jsxs)("span",{children:["Tauri 环境: ",e.isTauri?"✅ 是":"❌ 否"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(e.isDev?"bg-yellow-500":"bg-blue-500")}),(0,a.jsxs)("span",{children:["开发环境: ",e.isDev?"✅ 是":"❌ 否"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full ".concat(e.isBuild?"bg-purple-500":"bg-gray-500")}),(0,a.jsxs)("span",{children:["构建环境: ",e.isBuild?"✅ 是":"❌ 否"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsxs)("p",{children:["用户代理: ",e.userAgent]}),(0,a.jsxs)("p",{children:["平台: ",e.platform]})]})]})})]}),(0,a.jsxs)(r.Zp,{className:"mb-6",children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Tauri 命令测试"}),(0,a.jsx)(r.$n,{onClick:()=>{d({})},variant:"outline",size:"sm",children:"清除结果"})]})}),(0,a.jsx)(r.Wu,{children:(0,n.vo)()?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:t.map(e=>(0,a.jsx)(r.$n,{onClick:()=>u(e),variant:"outline",size:"sm",className:"text-left",children:e},e))}),Object.keys(c).length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"测试结果:"}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-md max-h-96 overflow-y-auto",children:(0,a.jsx)("pre",{className:"text-sm",children:JSON.stringify(c,null,2)})})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF10"}),(0,a.jsx)("p",{className:"text-gray-600",children:"当前运行在Web环境中，Tauri命令不可用"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["请使用 ",(0,a.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"pnpm tauri:dev"})," 启动桌面应用"]})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"\uD83D\uDE80 启动说明"})}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"桌面应用 (Tauri):"}),(0,a.jsx)("div",{className:"bg-gray-100 p-3 rounded-md",children:(0,a.jsx)("code",{children:"cd apps/desktop && pnpm tauri:dev"})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"这将启动真正的桌面应用，可以使用所有Tauri功能"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Web预览 (Next.js):"}),(0,a.jsx)("div",{className:"bg-gray-100 p-3 rounded-md",children:(0,a.jsx)("code",{children:"cd apps/desktop && pnpm dev"})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"这将启动Web预览模式，用于开发UI组件"})]}),(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-md",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,a.jsx)("strong",{children:"注意:"})," 如果 ",(0,a.jsx)("code",{children:"pnpm tauri:dev"})," 启动的是Web预览， 请检查Tauri CLI是否正确安装，或者查看终端错误信息。"]})})]})})]})]})}},9824:(e,s,t)=>{Promise.resolve().then(t.bind(t,3594))}},e=>{e.O(0,[854,162,358],()=>e(e.s=9824)),_N_E=e.O()}]);