{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/cavatina/projects/aicooper/features/ai-knowledge/src/components/KnowledgeFramework.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\nimport {\n  Card,\n  Text,\n  Button,\n  Stack,\n  Group,\n  Select,\n  Badge,\n  Paper,\n  Loader,\n  Alert,\n  ActionIcon,\n  Collapse,\n  Divider,\n  Box,\n  Title\n} from '@mantine/core'\nimport {\n  IconBrain,\n  IconFolder,\n  IconFolderOpen,\n  IconFile,\n  IconRobot,\n  IconEye,\n  IconEyeOff,\n  IconSearch,\n  IconChevronDown,\n  IconChevronRight\n} from '@tabler/icons-react'\nimport { KnowledgeFramework as KnowledgeFrameworkType, KnowledgeNode, SearchProvider } from '@my-platform/types'\nimport { builtInFrameworks } from '@/data/builtInFrameworks'\n\n// Safely import Tauri API with fallback\nconst getTauriInvoke = async () => {\n  try {\n    if (typeof window !== 'undefined' && (window as any).__TAURI__) {\n      const { invoke } = await import('@tauri-apps/api/core');\n      return invoke;\n    }\n  } catch (error) {\n    console.warn('Tauri API not available:', error);\n  }\n  return null;\n};\n\ninterface NodeComponentProps {\n  node: KnowledgeNode\n  onToggleExpand: (nodeId: string) => void\n  onGenerateChildren: (node: KnowledgeNode) => void\n  onSearch: (query: string) => void\n  searchProviders: SearchProvider[]\n}\n\nconst NodeComponent: React.FC<NodeComponentProps> = ({\n  node,\n  onToggleExpand,\n  onGenerateChildren,\n  onSearch,\n  searchProviders\n}) => {\n  const [showQuestions, setShowQuestions] = useState(false)\n\n  const getNodeIcon = () => {\n    if (node.children.length > 0) {\n      return node.expanded ? <IconFolderOpen size={18} /> : <IconFolder size={18} />\n    }\n    return <IconFile size={18} />\n  }\n\n  return (\n    <Box mb=\"md\">\n      <Card shadow=\"sm\" padding=\"md\" radius=\"md\" withBorder>\n        <Group justify=\"space-between\" mb=\"xs\">\n          <Group gap=\"sm\">\n            <ActionIcon\n              variant=\"subtle\"\n              onClick={() => onToggleExpand(node.id)}\n              size=\"sm\"\n            >\n              {getNodeIcon()}\n            </ActionIcon>\n            <Title order={4} size=\"md\">{node.title}</Title>\n          </Group>\n\n          <Group gap=\"xs\">\n            <ActionIcon\n              variant=\"subtle\"\n              onClick={() => setShowQuestions(!showQuestions)}\n              size=\"sm\"\n            >\n              {showQuestions ? <IconEyeOff size={16} /> : <IconEye size={16} />}\n            </ActionIcon>\n            <Button\n              variant=\"light\"\n              size=\"xs\"\n              leftSection={<IconRobot size={14} />}\n              onClick={() => onGenerateChildren(node)}\n            >\n              AIÊâ©Â±ï\n            </Button>\n          </Group>\n        </Group>\n\n        {node.description && (\n          <Text size=\"sm\" c=\"dimmed\" mb=\"sm\">\n            {node.description}\n          </Text>\n        )}\n\n        <Collapse in={showQuestions && node.questions.length > 0}>\n          <Paper p=\"sm\" bg=\"gray.0\" radius=\"sm\" mt=\"sm\">\n            <Text size=\"sm\" fw={500} mb=\"xs\">Áõ∏ÂÖ≥ÈóÆÈ¢òÔºö</Text>\n            <Stack gap=\"xs\">\n              {node.questions.map((question, index) => (\n                <Group key={index} justify=\"space-between\" align=\"flex-start\">\n                  <Text size=\"sm\" style={{ flex: 1 }}>\n                    ‚Ä¢ {question}\n                  </Text>\n                  <Group gap=\"xs\">\n                    {searchProviders.filter(p => p.enabled).map(provider => (\n                      <ActionIcon\n                        key={provider.id}\n                        size=\"xs\"\n                        variant=\"light\"\n                        onClick={() => onSearch(`${question} ${node.title}`)}\n                        title={`Âú®${provider.name}‰∏≠ÊêúÁ¥¢`}\n                      >\n                        <IconSearch size={12} />\n                      </ActionIcon>\n                    ))}\n                  </Group>\n                </Group>\n              ))}\n            </Stack>\n          </Paper>\n        </Collapse>\n      </Card>\n\n      <Collapse in={node.expanded && node.children.length > 0}>\n        <Box ml=\"xl\" pl=\"md\" style={{ borderLeft: '2px solid var(--mantine-color-gray-3)' }}>\n          <Stack gap=\"sm\" mt=\"sm\">\n            {node.children.map(child => (\n              <NodeComponent\n                key={child.id}\n                node={child}\n                onToggleExpand={onToggleExpand}\n                onGenerateChildren={onGenerateChildren}\n                onSearch={onSearch}\n                searchProviders={searchProviders}\n              />\n            ))}\n          </Stack>\n        </Box>\n      </Collapse>\n    </Box>\n  )\n}\n\nexport const KnowledgeFramework: React.FC = () => {\n  const [frameworks, setFrameworks] = useState<KnowledgeFrameworkType[]>([])\n  const [selectedFramework, setSelectedFramework] = useState<KnowledgeFrameworkType | null>(null)\n  const [searchProviders, setSearchProviders] = useState<SearchProvider[]>([])\n  const [isGenerating, setIsGenerating] = useState(false)\n\n  useEffect(() => {\n    loadFrameworks()\n    loadSearchProviders()\n  }, [])\n\n  const loadFrameworks = async () => {\n    try {\n      const invoke = await getTauriInvoke();\n      if (!invoke) {\n        // Fallback to built-in frameworks if Tauri is not available\n        setFrameworks(builtInFrameworks);\n        if (builtInFrameworks.length > 0 && !selectedFramework) {\n          setSelectedFramework(builtInFrameworks[0]);\n        }\n        return;\n      }\n\n      let frameworks = await invoke<KnowledgeFrameworkType[]>('get_knowledge_frameworks')\n\n      // Â¶ÇÊûúÊ≤°ÊúâÊ°ÜÊû∂ÔºåÂàùÂßãÂåñÂÜÖÁΩÆÊ°ÜÊû∂\n      if (frameworks.length === 0) {\n        for (const framework of builtInFrameworks) {\n          await invoke('save_knowledge_framework', { framework })\n        }\n        frameworks = builtInFrameworks\n      }\n\n      setFrameworks(frameworks)\n      if (frameworks.length > 0 && !selectedFramework) {\n        setSelectedFramework(frameworks[0])\n      }\n    } catch (error) {\n      console.error('Failed to load frameworks:', error)\n      // Fallback to built-in frameworks on error\n      setFrameworks(builtInFrameworks);\n      if (builtInFrameworks.length > 0 && !selectedFramework) {\n        setSelectedFramework(builtInFrameworks[0]);\n      }\n    }\n  }\n\n  const loadSearchProviders = async () => {\n    try {\n      const invoke = await getTauriInvoke();\n      if (!invoke) {\n        // Fallback to default search providers\n        const defaultProviders: SearchProvider[] = [\n          {\n            id: 'google',\n            name: 'Google',\n            icon: 'üîç',\n            baseUrl: 'https://www.google.com/search',\n            searchParam: 'q',\n            enabled: true\n          }\n        ];\n        setSearchProviders(defaultProviders);\n        return;\n      }\n\n      const providers = await invoke<SearchProvider[]>('get_search_providers')\n      setSearchProviders(providers)\n    } catch (error) {\n      console.error('Failed to load search providers:', error)\n      // Fallback to default providers\n      const defaultProviders: SearchProvider[] = [\n        {\n          id: 'google',\n          name: 'Google',\n          icon: 'üîç',\n          baseUrl: 'https://www.google.com/search',\n          searchParam: 'q',\n          enabled: true\n        }\n      ];\n      setSearchProviders(defaultProviders);\n    }\n  }\n\n  const handleToggleExpand = useCallback((nodeId: string) => {\n    if (!selectedFramework) return\n\n    const updateNodeExpansion = (nodes: KnowledgeNode[]): KnowledgeNode[] => {\n      return nodes.map(node => {\n        if (node.id === nodeId) {\n          return { ...node, expanded: !node.expanded }\n        }\n        if (node.children.length > 0) {\n          return { ...node, children: updateNodeExpansion(node.children) }\n        }\n        return node\n      })\n    }\n\n    const updatedFramework = {\n      ...selectedFramework,\n      rootNodes: updateNodeExpansion(selectedFramework.rootNodes),\n      updatedAt: new Date().toISOString()\n    }\n\n    setSelectedFramework(updatedFramework)\n\n    // ‰øùÂ≠òÂà∞Êú¨Âú∞ (Â¶ÇÊûúTauriÂèØÁî®)\n    getTauriInvoke().then(invoke => {\n      if (invoke) {\n        invoke('save_knowledge_framework', { framework: updatedFramework })\n          .catch(error => console.error('Failed to save framework:', error));\n      }\n    });\n  }, [selectedFramework])\n\n  const handleGenerateChildren = async (parentNode: KnowledgeNode) => {\n    if (!selectedFramework) return\n\n    setIsGenerating(true)\n    try {\n      const invoke = await getTauriInvoke();\n      if (!invoke) {\n        alert('AIÊâ©Â±ïÂäüËÉΩÈúÄË¶ÅÂú®Ê°åÈù¢Â∫îÁî®‰∏≠‰ΩøÁî®');\n        return;\n      }\n\n      // Ëé∑ÂèñÁî®Êà∑ÁöÑ API Key\n      const apiKeys = await invoke<any[]>('get_api_keys')\n      const defaultKey = apiKeys.find(k => k.is_default && k.is_active) || apiKeys[0]\n\n      let response: string\n      if (defaultKey) {\n        response = await invoke<string>('generate_child_nodes', {\n          provider: defaultKey.provider,\n          apiKey: defaultKey.api_key,\n          model: defaultKey.model || 'gpt-3.5-turbo',\n          parentTitle: parentNode.title,\n          parentDescription: parentNode.description || '',\n          domainContext: selectedFramework.domain,\n          nodeCount: 3,\n          targetUser: 'ËøõÈò∂Â≠¶‰π†ËÄÖ',\n          baseUrl: defaultKey.base_url || null\n        })\n      } else {\n        // ‰ΩøÁî®ÂÖúÂ∫ïÊúçÂä°\n        response = await invoke<string>('generate_child_nodes', {\n          provider: 'pollinations',\n          apiKey: '',\n          model: '',\n          parentTitle: parentNode.title,\n          parentDescription: parentNode.description || '',\n          domainContext: selectedFramework.domain,\n          nodeCount: 3,\n          targetUser: 'ËøõÈò∂Â≠¶‰π†ËÄÖ',\n          baseUrl: null\n        })\n      }\n\n      // Ëß£Êûê AI ÂìçÂ∫îÂπ∂ÂàõÂª∫Â≠êËäÇÁÇπ\n      const childNodes = parseAIResponseToNodes(response, parentNode.level + 1)\n\n      // Êõ¥Êñ∞Ê°ÜÊû∂\n      const updateNodeChildren = (nodes: KnowledgeNode[]): KnowledgeNode[] => {\n        return nodes.map(node => {\n          if (node.id === parentNode.id) {\n            return {\n              ...node,\n              children: [...node.children, ...childNodes],\n              expanded: true\n            }\n          }\n          if (node.children.length > 0) {\n            return { ...node, children: updateNodeChildren(node.children) }\n          }\n          return node\n        })\n      }\n\n      const updatedFramework = {\n        ...selectedFramework,\n        rootNodes: updateNodeChildren(selectedFramework.rootNodes),\n        updatedAt: new Date().toISOString()\n      }\n\n      setSelectedFramework(updatedFramework)\n      await invoke('save_knowledge_framework', { framework: updatedFramework })\n\n    } catch (error) {\n      console.error('Failed to generate child nodes:', error)\n      alert(`ÁîüÊàêÂ§±Ë¥•: ${error}`)\n    } finally {\n      setIsGenerating(false)\n    }\n  }\n\n  const parseAIResponseToNodes = (response: string, level: number): KnowledgeNode[] => {\n    const nodes: KnowledgeNode[] = []\n    const sections = response.split('---').filter(s => s.trim())\n\n    sections.forEach((section, index) => {\n      const lines = section.trim().split('\\n')\n      let title = ''\n      let description = ''\n      const questions: string[] = []\n\n      for (const line of lines) {\n        if (line.startsWith('## ')) {\n          title = line.replace('## ', '').replace(/ËäÇÁÇπ\\d+Ôºö/, '').trim()\n        } else if (line.startsWith('**ÊèèËø∞**Ôºö')) {\n          description = line.replace('**ÊèèËø∞**Ôºö', '').trim()\n        } else if (line.match(/^\\d+\\. /)) {\n          questions.push(line.replace(/^\\d+\\. /, '').trim())\n        }\n      }\n\n      if (title) {\n        nodes.push({\n          id: `node-${Date.now()}-${index}`,\n          title,\n          description: description || undefined,\n          children: [],\n          questions,\n          urls: [],\n          expanded: false,\n          level,\n          position: { x: index * 200, y: level * 150 }\n        })\n      }\n    })\n\n    return nodes\n  }\n\n  const handleSearch = async (query: string) => {\n    try {\n      const invoke = await getTauriInvoke();\n      if (!invoke) {\n        // Fallback to direct search URL\n        const enabledProviders = searchProviders.filter(p => p.enabled)\n        if (enabledProviders.length > 0) {\n          const provider = enabledProviders[0];\n          const searchUrl = `${provider.baseUrl}?${provider.searchParam}=${encodeURIComponent(query)}`;\n          window.open(searchUrl, '_blank');\n        }\n        return;\n      }\n\n      const enabledProviders = searchProviders.filter(p => p.enabled)\n      if (enabledProviders.length > 0) {\n        const searchUrl = await invoke<string>('search_with_provider', {\n          providerId: enabledProviders[0].id,\n          query\n        })\n\n        // ‰ΩøÁî® Tauri ÁöÑ opener Êèí‰ª∂ÊâìÂºÄÊêúÁ¥¢ÈìæÊé•\n        await invoke('plugin:opener|open', { path: searchUrl })\n      }\n    } catch (error) {\n      console.error('Search failed:', error)\n      // Fallback to direct search\n      const enabledProviders = searchProviders.filter(p => p.enabled)\n      if (enabledProviders.length > 0) {\n        const provider = enabledProviders[0];\n        const searchUrl = `${provider.baseUrl}?${provider.searchParam}=${encodeURIComponent(query)}`;\n        window.open(searchUrl, '_blank');\n      }\n    }\n  }\n\n  return (\n    <Stack gap=\"lg\" p=\"md\">\n      <Group justify=\"space-between\">\n        <Stack gap=\"xs\">\n          <Group>\n            <IconBrain size={28} color=\"var(--mantine-color-blue-6)\" />\n            <Title order={2}>Áü•ËØÜÊ°ÜÊû∂</Title>\n          </Group>\n          <Text c=\"dimmed\">Á≥ªÁªüÊÄßÂú∞ÊûÑÂª∫ÂíåÁÆ°ÁêÜÈ¢ÜÂüüÁü•ËØÜ</Text>\n        </Stack>\n\n        <Select\n          placeholder=\"ÈÄâÊã©Áü•ËØÜÊ°ÜÊû∂\"\n          value={selectedFramework?.id || null}\n          onChange={(value) => {\n            const framework = frameworks.find(f => f.id === value)\n            setSelectedFramework(framework || null)\n          }}\n          data={frameworks.map(framework => ({\n            value: framework.id,\n            label: framework.name\n          }))}\n          w={250}\n        />\n      </Group>\n\n      {selectedFramework ? (\n        <Stack gap=\"md\">\n          <Paper p=\"lg\" radius=\"md\" bg=\"blue.0\" withBorder>\n            <Group justify=\"space-between\" mb=\"sm\">\n              <Title order={3} c=\"blue.8\">\n                {selectedFramework.name}\n              </Title>\n              <Group gap=\"xs\">\n                <Badge variant=\"light\" color=\"blue\">\n                  {selectedFramework.domain}\n                </Badge>\n                <Badge variant=\"outline\" size=\"sm\">\n                  v{selectedFramework.version}\n                </Badge>\n              </Group>\n            </Group>\n            <Text c=\"blue.7\">{selectedFramework.description}</Text>\n          </Paper>\n\n          {isGenerating && (\n            <Alert\n              icon={<Loader size={16} />}\n              color=\"yellow\"\n              variant=\"light\"\n              radius=\"md\"\n            >\n              <Text>AI Ê≠£Âú®ÁîüÊàêÊñ∞ÁöÑÁü•ËØÜËäÇÁÇπ...</Text>\n            </Alert>\n          )}\n\n          <Stack gap=\"sm\">\n            {selectedFramework.rootNodes.map(node => (\n              <NodeComponent\n                key={node.id}\n                node={node}\n                onToggleExpand={handleToggleExpand}\n                onGenerateChildren={handleGenerateChildren}\n                onSearch={handleSearch}\n                searchProviders={searchProviders}\n              />\n            ))}\n          </Stack>\n        </Stack>\n      ) : (\n        <Card shadow=\"sm\" padding=\"xl\" radius=\"md\" withBorder>\n          <Stack align=\"center\" gap=\"md\">\n            <IconBrain size={64} color=\"var(--mantine-color-gray-5)\" />\n            <Title order={3} ta=\"center\">ÈÄâÊã©Áü•ËØÜÊ°ÜÊû∂</Title>\n            <Text c=\"dimmed\" ta=\"center\" maw={400}>\n              ÈÄâÊã©‰∏Ä‰∏™È¢ÜÂüüÂºÄÂßãÊûÑÂª∫ÊÇ®ÁöÑÁü•ËØÜ‰ΩìÁ≥ª\n            </Text>\n            {frameworks.length === 0 && (\n              <Button\n                variant=\"filled\"\n                onClick={loadFrameworks}\n                leftSection={<IconBrain size={16} />}\n              >\n                ÂàùÂßãÂåñÂÜÖÁΩÆÊ°ÜÊû∂\n              </Button>\n            )}\n          </Stack>\n        </Card>\n      )}\n    </Stack>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 873, "column": 0}, "map": {"version":3,"sources":["file:///Users/cavatina/projects/aicooper/features/ai-knowledge/src/components/KnowledgeFrameworkManager.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport {\n    Stack,\n    Group,\n    Title,\n    Text,\n    Button,\n    Card,\n    Badge,\n    ActionIcon,\n    Modal,\n    TextInput,\n    Textarea,\n    Select,\n    Grid,\n    Center,\n    Divider,\n    Box\n} from '@mantine/core';\nimport {\n    IconBrain,\n    IconPlus,\n    IconEdit,\n    IconTrash,\n    IconEye,\n    IconRobot,\n    IconExternalLink\n} from '@tabler/icons-react';\nimport { notifications } from '@mantine/notifications';\n// ÊöÇÊó∂Ê≥®ÈáäÊéâPageLayoutÂØºÂÖ•ÔºåÁõ¥Êé•‰ΩøÁî®StackÂ∏ÉÂ±Ä\n// import { PageLayout } from '../../../apps/desktop/src/components/layout/PageLayout';\n\n// ‰∏¥Êó∂Á±ªÂûãÂÆö‰πâÔºåÂ∫îËØ•‰ªé@my-platform/typesÂØºÂÖ•\ninterface KnowledgeFramework {\n    id: string;\n    title: string;\n    description: string;\n    domain: string;\n    version: number;\n    is_built_in: boolean;\n    is_public: boolean;\n    local_only: boolean;\n    created_at: string;\n    updated_at: string;\n}\n\ninterface KnowledgeFrameworkManagerProps {\n    onFrameworkSelect?: (framework: KnowledgeFramework) => void;\n}\n\nexport const KnowledgeFrameworkManager: React.FC<KnowledgeFrameworkManagerProps> = ({\n    onFrameworkSelect\n}) => {\n    const [frameworks, setFrameworks] = useState<KnowledgeFramework[]>([]);\n    const [loading, setLoading] = useState(true);\n    // ÂàõÂª∫Êîπ‰∏∫‰∫åÁ∫ßÈ°µÈù¢Ë∑ØÁî±\n    const [selectedFramework, setSelectedFramework] = useState<KnowledgeFramework | null>(null);\n\n    // Ë°®ÂçïÁä∂ÊÄÅ\n    const [formData, setFormData] = useState({\n        title: '',\n        description: '',\n        domain: ''\n    });\n\n    // AI ÂàõÂª∫Áä∂ÊÄÅ\n    const [aiFormData, setAiFormData] = useState({\n        title: '',\n        description: '',\n        domain: '',\n        targetUser: '',\n        complexity: 'medium'\n    });\n    const [aiGenerating, setAiGenerating] = useState(false);\n\n    useEffect(() => {\n        loadFrameworks();\n    }, []);\n\n    const loadFrameworks = async () => {\n        try {\n            setLoading(true);\n            // ËøôÈáåÂ∫îËØ•Ë∞ÉÁî®ÂÆûÈôÖÁöÑAPIÊàñTauriÂëΩ‰ª§\n            // const frameworks = await dbApi.getKnowledgeFrameworks();\n            // setFrameworks(frameworks.data || []);\n\n            // ‰∏¥Êó∂‰ΩøÁî®Á©∫Êï∞ÁªÑ\n            setFrameworks([]);\n        } catch (error) {\n            console.error('Failed to load frameworks:', error);\n            notifications.show({\n                title: 'Âä†ËΩΩÂ§±Ë¥•',\n                message: 'Êó†Ê≥ïÂä†ËΩΩÁü•ËØÜÊ°ÜÊû∂',\n                color: 'red'\n            });\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleCreateFramework = async () => {\n        try {\n            // ËøôÈáåÂ∫îËØ•Ë∞ÉÁî®ÂÆûÈôÖÁöÑÂàõÂª∫API\n            notifications.show({\n                title: 'ÂàõÂª∫ÊàêÂäü',\n                message: 'Áü•ËØÜÊ°ÜÊû∂Â∑≤ÂàõÂª∫',\n                color: 'green'\n            });\n            setCreateModalOpen(false);\n            resetFormData();\n            loadFrameworks();\n        } catch (error) {\n            notifications.show({\n                title: 'ÂàõÂª∫Â§±Ë¥•',\n                message: 'Êó†Ê≥ïÂàõÂª∫Áü•ËØÜÊ°ÜÊû∂',\n                color: 'red'\n            });\n        }\n    };\n\n    const handleAICreate = async () => {\n        try {\n            setAiGenerating(true);\n            // ËøôÈáåÂ∫îËØ•Ë∞ÉÁî®AIÂàõÂª∫API\n            notifications.show({\n                title: 'AI ÂàõÂª∫ÊàêÂäü',\n                message: 'Áü•ËØÜÊ°ÜÊû∂Â∑≤ÈÄöËøá AI ËæÖÂä©ÂàõÂª∫',\n                color: 'green'\n            });\n            setAiCreateModalOpen(false);\n            setAiFormData({\n                title: '',\n                description: '',\n                domain: '',\n                targetUser: '',\n                complexity: 'medium'\n            });\n            loadFrameworks();\n        } catch (error) {\n            notifications.show({\n                title: 'AI ÂàõÂª∫Â§±Ë¥•',\n                message: 'Êó†Ê≥ïÈÄöËøá AI ÂàõÂª∫Áü•ËØÜÊ°ÜÊû∂',\n                color: 'red'\n            });\n        } finally {\n            setAiGenerating(false);\n        }\n    };\n\n    const resetFormData = () => {\n        setFormData({\n            title: '',\n            description: '',\n            domain: ''\n        });\n    };\n\n    if (loading) {\n        return (\n            <Center h={400}>\n                <Stack align=\"center\">\n                    <IconBrain size={64} color=\"var(--mantine-color-gray-5)\" />\n                    <Text c=\"dimmed\">Âä†ËΩΩÁü•ËØÜÊ°ÜÊû∂...</Text>\n                </Stack>\n            </Center>\n        );\n    }\n\n    return (\n        <Stack gap=\"lg\" p=\"md\">\n            {/* Â§¥ÈÉ®Êìç‰ΩúÊ†è */}\n            <Group justify=\"space-between\">\n                <Group>\n                    <IconBrain size={28} color=\"var(--mantine-color-violet-6)\" />\n                    <Box>\n                        <Title order={2}>Áü•ËØÜÊ°ÜÊû∂</Title>\n                        <Text c=\"dimmed\" size=\"sm\">ÂàõÂª∫ÂíåÁÆ°ÁêÜÁªìÊûÑÂåñÁü•ËØÜ‰ΩìÁ≥ª</Text>\n                    </Box>\n                </Group>\n\n                <Group>\n                    <Button\n                        leftSection={<IconRobot size={16} />}\n                        variant=\"gradient\"\n                        gradient={{ from: 'violet', to: 'purple' }}\n                        onClick={() => { if (typeof window !== 'undefined') window.location.href = '/knowledge/new?mode=ai' }}\n                    >\n                        AI ÂàõÂª∫\n                    </Button>\n                    <Button\n                        leftSection={<IconPlus size={16} />}\n                        onClick={() => { if (typeof window !== 'undefined') window.location.href = '/knowledge/new' }}\n                    >\n                        ÊâãÂä®ÂàõÂª∫\n                    </Button>\n                </Group>\n            </Group>\n\n            {/* Ê°ÜÊû∂ÂàóË°® */}\n            {frameworks.length === 0 ? (\n                <Card shadow=\"sm\" padding=\"xl\" radius=\"md\" withBorder>\n                    <Center>\n                        <Stack align=\"center\" gap=\"md\">\n                            <IconBrain size={64} color=\"var(--mantine-color-gray-5)\" />\n                            <Title order={3} ta=\"center\">ËøòÊ≤°ÊúâÁü•ËØÜÊ°ÜÊû∂</Title>\n                            <Text c=\"dimmed\" ta=\"center\" maw={400}>\n                                ÂàõÂª∫ÊÇ®ÁöÑÁ¨¨‰∏Ä‰∏™Áü•ËØÜÊ°ÜÊû∂Êù•ÁªÑÁªáÂíåÁÆ°ÁêÜÁü•ËØÜ‰ΩìÁ≥ª\n                            </Text>\n                            <Group>\n                                <Button\n                                    leftSection={<IconRobot size={16} />}\n                                    variant=\"gradient\"\n                                    gradient={{ from: 'violet', to: 'purple' }}\n                                    onClick={() => { if (typeof window !== 'undefined') window.location.href = '/knowledge/new?mode=ai' }}\n                                >\n                                    AI ËæÖÂä©ÂàõÂª∫\n                                </Button>\n                                <Button\n                                    leftSection={<IconPlus size={16} />}\n                                    variant=\"light\"\n                                    onClick={() => { if (typeof window !== 'undefined') window.location.href = '/knowledge/new' }}\n                                >\n                                    ÊâãÂä®ÂàõÂª∫\n                                </Button>\n                            </Group>\n                        </Stack>\n                    </Center>\n                </Card>\n            ) : (\n                <Grid>\n                    {frameworks.map((framework) => (\n                        <Grid.Col key={framework.id} span={{ base: 12, md: 6, lg: 4 }}>\n                            <Card shadow=\"sm\" padding=\"lg\" radius=\"md\" withBorder h=\"100%\">\n                                <Stack gap=\"sm\" h=\"100%\">\n                                    <Group justify=\"space-between\">\n                                        <Badge\n                                            variant=\"light\"\n                                            color={framework.local_only ? 'orange' : 'green'}\n                                            size=\"sm\"\n                                        >\n                                            {framework.local_only ? 'Êú¨Âú∞' : 'Â∑≤ÂêåÊ≠•'}\n                                        </Badge>\n                                        <Badge variant=\"outline\" size=\"xs\">\n                                            {framework.domain}\n                                        </Badge>\n                                    </Group>\n\n                                    <Box style={{ flex: 1 }}>\n                                        <Title order={4} mb=\"xs\">{framework.title}</Title>\n                                        <Text size=\"sm\" c=\"dimmed\" mb=\"sm\" lineClamp={3}>\n                                            {framework.description}\n                                        </Text>\n                                    </Box>\n\n                                    <Divider />\n\n                                    <Group justify=\"space-between\">\n                                        <Group gap=\"xs\">\n                                            <ActionIcon\n                                                variant=\"light\"\n                                                size=\"sm\"\n                                                onClick={() => {\n                                                    // ÂØºËà™Âà∞ËØ¶ÊÉÖÈ°µÈù¢\n                                                    if (typeof window !== 'undefined') {\n                                                        window.location.href = `/knowledge/${framework.id}`;\n                                                    }\n                                                }}\n                                            >\n                                                <IconEye size={14} />\n                                            </ActionIcon>\n                                            <ActionIcon\n                                                variant=\"light\"\n                                                size=\"sm\"\n                                                onClick={() => {\n                                                    // ÁºñËæëÂäüËÉΩ\n                                                }}\n                                            >\n                                                <IconEdit size={14} />\n                                            </ActionIcon>\n                                        </Group>\n\n                                        <ActionIcon\n                                            variant=\"light\"\n                                            color=\"red\"\n                                            size=\"sm\"\n                                            onClick={() => {\n                                                // Âà†Èô§ÂäüËÉΩ\n                                            }}\n                                        >\n                                            <IconTrash size={14} />\n                                        </ActionIcon>\n                                    </Group>\n                                </Stack>\n                            </Card>\n                        </Grid.Col>\n                    ))}\n                </Grid>\n            )}\n\n            {/* ÂàõÂª∫‰∏é AI ÂàõÂª∫Êîπ‰∏∫‰∫åÁ∫ßÈ°µÈù¢ /knowledge/new */}\n        </Stack>\n    );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"sources":["file:///Users/cavatina/projects/aicooper/features/ai-knowledge/src/data/builtInFrameworks.ts"],"sourcesContent":["import { KnowledgeFramework } from '@my-platform/types';\n\nexport const builtInFrameworks: KnowledgeFramework[] = [\n  {\n    id: 'framework-office-efficiency',\n    name: 'ÂäûÂÖ¨ÊïàÁéá',\n    description: 'ÊèêÂçáÂ∑•‰ΩúÊïàÁéáÁöÑÁ≥ªÁªüÊÄßÊñπÊ≥ï',\n    domain: 'productivity',\n    version: 1,\n    isBuiltIn: true,\n    rootNodes: [\n      {\n        id: 'node-time-management',\n        title: 'Êó∂Èó¥ÁÆ°ÁêÜ',\n        description: 'ÁßëÂ≠¶ÁÆ°ÁêÜÊó∂Èó¥ÔºåÊèêÈ´òÂ∑•‰ΩúÊïàÁéá',\n        children: [],\n        questions: [\n          'Â¶Ç‰Ωï‰ΩøÁî®Áï™ËåÑÂ∑•‰ΩúÊ≥ïÔºü',\n          '‰ªÄ‰πàÊòØÊó∂Èó¥ÂùóÁÆ°ÁêÜÔºü',\n          'Â¶Ç‰ΩïÂ§ÑÁêÜÊó∂Èó¥Á¢éÁâáÔºü'\n        ],\n        urls: [],\n        expanded: false,\n        level: 0,\n        position: { x: 0, y: 0 }\n      },\n      {\n        id: 'node-communication',\n        title: 'Ê≤üÈÄöÊäÄÂ∑ß',\n        description: 'ÊúâÊïàÊ≤üÈÄöÁöÑÊñπÊ≥ïÂíåÊäÄÂ∑ß',\n        children: [],\n        questions: [\n          'Â¶Ç‰ΩïËøõË°åÊúâÊïàÁöÑ‰ºöËÆÆÔºü',\n          'ÊÄéÊ†∑ÂÜôÂá∫Ê∏ÖÊô∞ÁöÑÈÇÆ‰ª∂Ôºü',\n          'Â¶Ç‰ΩïÂ§ÑÁêÜÂ∑•‰ΩúÂÜ≤Á™ÅÔºü'\n        ],\n        urls: [],\n        expanded: false,\n        level: 0,\n        position: { x: 200, y: 0 }\n      }\n    ],\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  },\n  {\n    id: 'framework-digital-marketing',\n    name: 'Êï∞Â≠óËê•ÈîÄ',\n    description: 'Êï∞Â≠óÂåñÊó∂‰ª£ÁöÑËê•ÈîÄÁ≠ñÁï•ÂíåÊñπÊ≥ï',\n    domain: 'marketing',\n    version: 1,\n    isBuiltIn: true,\n    rootNodes: [\n      {\n        id: 'node-content-marketing',\n        title: 'ÂÜÖÂÆπËê•ÈîÄ',\n        description: 'ÈÄöËøá‰ºòË¥®ÂÜÖÂÆπÂê∏ÂºïÂíåËΩ¨ÂåñÂÆ¢Êà∑',\n        children: [],\n        questions: [\n          'Â¶Ç‰ΩïÂàõ‰ΩúÂê∏Âºï‰∫∫ÁöÑÂÜÖÂÆπÔºü',\n          '‰ªÄ‰πàÊòØÂÜÖÂÆπËê•ÈîÄÊºèÊñóÔºü',\n          'Â¶Ç‰ΩïÂàÜÂèëÂÜÖÂÆπÔºü'\n        ],\n        urls: [],\n        expanded: false,\n        level: 0,\n        position: { x: 0, y: 0 }\n      },\n      {\n        id: 'node-seo',\n        title: 'SEO‰ºòÂåñ',\n        description: 'ÊêúÁ¥¢ÂºïÊìé‰ºòÂåñÁöÑÁ≠ñÁï•ÂíåÊäÄÂ∑ß',\n        children: [],\n        questions: [\n          '‰ªÄ‰πàÊòØÂÖ≥ÈîÆËØçÁ†îÁ©∂Ôºü',\n          'Â¶Ç‰Ωï‰ºòÂåñÁΩëÁ´ôÁªìÊûÑÔºü',\n          'ÊÄéÊ†∑Âª∫ËÆæÂ§ñÈìæÔºü'\n        ],\n        urls: [],\n        expanded: false,\n        level: 0,\n        position: { x: 200, y: 0 }\n      }\n    ],\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString()\n  }\n];"],"names":[],"mappings":";;;AAEO,MAAM,oBAA0C;IACrD;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ;QACR,SAAS;QACT,WAAW;QACX,WAAW;YACT;gBACE,IAAI;gBACJ,OAAO;gBACP,aAAa;gBACb,UAAU,EAAE;gBACZ,WAAW;oBACT;oBACA;oBACA;iBACD;gBACD,MAAM,EAAE;gBACR,UAAU;gBACV,OAAO;gBACP,UAAU;oBAAE,GAAG;oBAAG,GAAG;gBAAE;YACzB;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,aAAa;gBACb,UAAU,EAAE;gBACZ,WAAW;oBACT;oBACA;oBACA;iBACD;gBACD,MAAM,EAAE;gBACR,UAAU;gBACV,OAAO;gBACP,UAAU;oBAAE,GAAG;oBAAK,GAAG;gBAAE;YAC3B;SACD;QACD,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ;QACR,SAAS;QACT,WAAW;QACX,WAAW;YACT;gBACE,IAAI;gBACJ,OAAO;gBACP,aAAa;gBACb,UAAU,EAAE;gBACZ,WAAW;oBACT;oBACA;oBACA;iBACD;gBACD,MAAM,EAAE;gBACR,UAAU;gBACV,OAAO;gBACP,UAAU;oBAAE,GAAG;oBAAG,GAAG;gBAAE;YACzB;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,aAAa;gBACb,UAAU,EAAE;gBACZ,WAAW;oBACT;oBACA;oBACA;iBACD;gBACD,MAAM,EAAE;gBACR,UAAU;gBACV,OAAO;gBACP,UAAU;oBAAE,GAAG;oBAAK,GAAG;gBAAE;YAC3B;SACD;QACD,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;CACD","debugId":null}},
    {"offset": {"line": 1547, "column": 0}, "map": {"version":3,"sources":["file:///Users/cavatina/projects/aicooper/features/ai-knowledge/src/index.ts"],"sourcesContent":["export { KnowledgeFramework } from './components/KnowledgeFramework';\nexport { KnowledgeFrameworkManager } from './components/KnowledgeFrameworkManager';\nexport { builtInFrameworks } from './data/builtInFrameworks';"],"names":[],"mappings":";AAAA;AACA;AACA","debugId":null}}]
}